---
import ContactForm from "./ContactForm.astro";
const EMAIL = "hello@yourdomain.dev"; // ← update
const CITY = "Guadalajara, MX";       // ← update if you want
---
<div class="container-x section-pad">
  <div class="grid gap-6 md:gap-8 lg:grid-cols-[1.1fr_.9fr]">
    <!-- Form -->
    <div class="reveal" data-reveal>
      <ContactForm />
    </div>

    <!-- Info rail -->
    <aside class="reveal space-y-6" data-reveal>
      <!-- Availability -->
      <div class="card p-5 md:p-6">
        <header class="flex items-center justify-between">
          <h3 class="font-semibold">Availability</h3>
          <span class="inline-flex items-center gap-2 text-xs rounded-full px-2 py-1 bg-emerald-500/10 text-emerald-300 border border-emerald-400/20">
            <span class="size-2 rounded-full bg-emerald-400 animate-pulse"></span> Open to work
          </span>
        </header>
        <dl class="mt-4 grid grid-cols-2 gap-4 text-sm">
          <div>
            <dt class="opacity-70">Local time</dt>
            <dd class="font-medium"><span id="localtime">—</span></dd>
          </div>
          <div>
            <dt class="opacity-70">Response</dt>
            <dd class="font-medium">Under 24h</dd>
          </div>
          <div class="col-span-2">
            <dt class="opacity-70">Location</dt>
            <dd class="font-medium">{CITY}</dd>
          </div>
        </dl>
      </div>

      <!-- Channels -->
      <div class="card p-5 md:p-6">
        <h3 class="font-semibold">Quick channels</h3>
        <ul class="mt-3 space-y-2 text-sm">
          <li>
            <a href={`mailto:${EMAIL}`} class="link-row">
              <svg viewBox="0 0 24 24" class="size-4 opacity-80"><path fill="currentColor" d="M20 4H4a2 2 0 0 0-2 2v.2l10 6.25L22 6.2V6a2 2 0 0 0-2-2Zm0 5.05-8 5-8-5V18a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9.05Z"/></svg>
              Email <span class="opacity-70">({EMAIL})</span>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/in/your-handle" target="_blank" rel="noreferrer" class="link-row">
              <svg viewBox="0 0 24 24" class="size-4 opacity-80"><path fill="currentColor" d="M6.94 6.5A1.94 1.94 0 1 1 5 4.56 1.94 1.94 0 0 1 6.94 6.5ZM5.47 8.5h2.94V20H5.47ZM13 8.36c-2 0-3.23 1.09-3.78 2.1V8.5H6.29V20h2.94v-6.22c0-1.65.99-2.73 2.4-2.73s2.15.93 2.15 2.72V20h2.94v-6.86c0-3.1-1.66-4.78-3.72-4.78Z"/></svg>
              LinkedIn
            </a>
          </li>
          <li>
            <a href="https://github.com/your-handle" target="_blank" rel="noreferrer" class="link-row">
              <svg viewBox="0 0 24 24" class="size-4 opacity-80"><path fill="currentColor" d="M12 2a10 10 0 0 0-3.16 19.5c.5.09.68-.22.68-.48l-.01-1.68c-2.78.6-3.37-1.17-3.37-1.17-.45-1.16-1.1-1.47-1.1-1.47-.9-.62.07-.61.07-.61 1 .07 1.53 1.03 1.53 1.03.89 1.52 2.34 1.08 2.91.82.09-.66.35-1.09.63-1.35-2.22-.25-4.56-1.11-4.56-4.94a3.86 3.86 0 0 1 1.03-2.68 3.6 3.6 0 0 1 .1-2.65s.84-.27 2.75 1.02A9.4 9.4 0 0 1 12 6.8c.85 0 1.7.11 2.5.33 1.9-1.29 2.74-1.02 2.74-1.02.37.93.14 2 .1 2.64.64.72 1.02 1.66 1.02 2.68 0 3.84-2.34 4.69-4.57 4.94.36.31.68.91.68 1.85l-.01 2.74c0 .26.18.57.69.48A10 10 0 0 0 12 2Z"/></svg>
              GitHub
            </a>
          </li>
        </ul>
      </div>

      <!-- FAQ -->
      <div class="card p-5 md:p-6">
        <h3 class="font-semibold">FAQ</h3>
        <details class="mt-3 group">
          <summary class="summary">How soon can you start?</summary>
          <p class="mt-2 text-sm opacity-85">I’m available for discovery right away; start dates typically within 1–2 weeks depending on scope.</p>
        </details>
        <details class="group">
          <summary class="summary">Do you work async / in sprints?</summary>
          <p class="mt-2 text-sm opacity-85">Yes—weekly sprint rhythm with demo & notes. I keep decisions documented and PRs small and reviewable.</p>
        </details>
        <details class="group">
          <summary class="summary">What’s your sweet spot?</summary>
          <p class="mt-2 text-sm opacity-85">API-first web apps: Django/DRF + React/Next.js; cloud-ready, containerized, strong CI/CD hygiene.</p>
        </details>
      </div>
    </aside>
  </div>
</div>

<style>
  .link-row{display:flex;align-items:center;gap:.6rem;padding:.5rem .6rem;border-radius:.6rem;border:1px solid rgba(255,255,255,.06);background:rgba(255,255,255,.03)}
  .link-row:hover{border-color:rgba(255,255,255,.18);background:rgba(255,255,255,.06)}
  .summary{cursor:pointer;list-style:none;padding:.4rem .6rem;border-radius:.6rem;border:1px solid rgba(255,255,255,.06);background:rgba(255,255,255,.03)}
  .group[open] .summary{border-color:rgba(255,255,255,.18);background:rgba(255,255,255,.06)}
</style>

<script>
  // Live local time (friendly, 24h)
  const el = document.getElementById("localtime");
  const fmt = new Intl.DateTimeFormat([], { hour: "2-digit", minute: "2-digit" });
  function tick(){ if (el) el.textContent = fmt.format(new Date()); }
  tick(); setInterval(tick, 30_000);
</script>
